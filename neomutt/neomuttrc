### Config
set my_neomutt_cache = ~/.cache/neomutt
set my_neomutt_config = "$HOME/.config/neomutt"
set my_neomutt_root = '/usr/share/neomutt'
set real_name = 'Carlos Vieira'
set me_too
set greeting = 'Ol√° %v,'
set folder_format = "%2C %t %N %F %2l %-8.8u %-8.8g %8s %d %i"
set index_format = "%4C %Z %{%b %d} %-15.15L (%<l?%4l&%4c>) %s "
set use_threads = 'reverse'
set sort = 'date'
set sort_aux = 'date'
set pager_read_delay = 15
set mail_check_stats
set header_cache = "$my_neomutt_cache/header"
#set header_cache_backend = 'lmdb'
set message_cachedir = "$my_neomutt_cache/body"
set sidebar_short_path
set sidebar_visible
set sidebar_folder_indent
set sidebar_indent_string="  "
set sidebar_format = "%B%<F? [%F]>%* %<N?%N/>%S"


### Rebinding
bind index,pager \CP sidebar-prev
bind index,pager \CN sidebar-next
bind index,pager \CO sidebar-open
bind index,pager B sidebar-toggle-visible


### Colorscheme
# builtin coloschemes: 'solarized-dark-256.neomuttrc', 'zenburn.neomuttrc', 'neonwolf-256.neomuttrc' 
# https://neomutt.org/guide/configuration#11-2-%C2%A0simple-colors
# https://neomutt.org/guide/gettingstarted#2-4-4-%C2%A0colors
set my_neomutt_colorscheme = 'vombatidae.neomuttrc'
source "$my_neomutt_root/colorschemes/$my_neomutt_colorscheme"


### OAuth2.0 Tokens
# source "$my_neomutt_config/secretneomuttrc"


### Vim keybindings
source "$my_neomutt_config/vimkeys.rc"


### Gmail config
#ifdef GMAIL	\
#set from = "$GMAIL" ; \
#set folder = "imaps://$GMAIL@imap.gmail.com:993" ; \
#set smtp_url = "smtps://$GMAIL@smtp.gmail.com:587" ; \
#set imap_user = "$GMAIL" ; \
#set imap_authenticators='oauthbearer:xoauth2' ; \
#set imap_oauth_refresh_command = "python $my_neomutt_config/oauth2.py \
#--user=$GMAIL --quiet \
#--client_id=$(pass mutt/gmail_client_id) \
#--client_secret=$(pass mutt/gmail_client_secret) \
#--refresh_token=$(pass mutt/gmail_refresh_token)" ; \
#set imap_check_subscribed ; \
#set spool_file = "+INBOX" ; \
#set record = "+Sent" ; \
#set trash = "+Trash" ; \
#set postponed = "+Drafts" ; \
#finish


## Outlook config
ifdef OUTLOOK \
set from = "$OUTLOOK" ; \
set folder = "imaps://$OUTLOOK@outlook.office365.com:993" ; \
set smtp_url = "smtps://$OUTLOOK@smtp-mail.outlook.com:587" ; \
set imap_user = "$OUTLOOK" ; \
set imap_authenticators='oauthbearer:xoauth2' ; \
set imap_oauth_refresh_command = "python $my_neomutt_config/mutt_oauth2.py --authflow authcode $my_neomutt_config/$OUTLOOK.tokens" ; \
set imap_check_subscribed ; \
set spool_file = "+INBOX" ; \
set postponed = "+Drafts" ; \
finish
